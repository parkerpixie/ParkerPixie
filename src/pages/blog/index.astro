---
// src/pages/blog/index.astro
// Standalone blog index using hard-coded posts (no Markdown files)

type Post = {
  title: string;
  slug: string;        // path segment after /blog/
  date: string;        // ISO or readable date
  excerpt: string;
  cover?: string;      // e.g., "/img/blog/mysoundtrack-card.jpg"
  coverAlt?: string;
};

// ⚠️ Update paths/titles as you add posts.
// "cover" is optional; a fallback image will render if missing.
const posts: Post[] = [
  {
    title: "Hello, Sparkle World ✨",
    slug: "helloworld",
    date: "2025-09-02",
    excerpt:
      "Kicking off the ParkerPixie blog — cozy crafts, capybara lore, gaming, and glittery life updates.",
    cover: "/img/blog/hello-card.jpg",
    coverAlt: "Glittering purple background with subtle stars"
  },
  {
    title: "My Life in Songs (A Tiny Soundtrack)",
    slug: "blogmysoundtrack",
    date: "2025-09-06",
    excerpt:
      "Tracks that stitched me together — recovery, rage, love, and glitter.",
    // Use your actual image; this will crop nicely in-card:
    cover: "/img/blog/mysoundtrack-card.jpg",
    coverAlt: "Headphones resting on a journal with soft bokeh lights"
  },
];

posts.sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());

const prettyDate = (d: string) =>
  new Date(d).toLocaleDateString("en-US", { year: "numeric", month: "short", day: "numeric" });
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>ParkerPixie · Blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description"
      content="The ParkerPixie blog — cozy crafts, capybara lore, gaming, and glittery life updates." />
    <link rel="icon" href="/CapyGoldIcon.png" />

    <!-- Open Graph (so shares pull the right image/text) -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="ParkerPixie · Blog" />
    <meta property="og:description"
      content="Cozy crafts, capybara lore, gaming, life & sparkle." />
    <meta property="og:image" content="/img/og/blog-index.jpg" />

    <style>
      :root{
        --brand:#8a5dff; --brand-deep:#4b2fb5; --gold:#D8AA3B;
        --ink:#f7f3ff; --muted:#bdb5d9;
        --bg1:#0f0b14; --bg2:#130e1f; --bg3:#100b1a;
        --card:#1b1426; --line:#2a2240;
      }
      *{box-sizing:border-box}
      html,body{margin:0;padding:0;background:linear-gradient(180deg,var(--bg1),var(--bg2) 60%,var(--bg3));color:var(--ink);font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial}
      a{color:inherit;text-decoration:none}
      header{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:16px 20px;border-bottom:1px solid var(--line);position:sticky;top:0;background:rgba(16,11,26,.8);backdrop-filter: blur(8px)}
      .brand{display:flex;align-items:center;gap:10px;font-weight:700}
      .brand img{width:24px;height:24px}
      nav a{margin-left:16px;opacity:.9}
      nav a:hover{opacity:1;text-decoration:underline}

      main{max-width:1100px;margin:32px auto;padding:0 20px}
      h1{font-size:clamp(28px,3vw,40px);margin:0 0 4px}
      .sub{color:var(--muted);margin:0 0 24px}

      .grid{
        display:grid;
        grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
        gap:18px;
      }
      .card{
        background:linear-gradient(180deg, #1b1426, #161022);
        border:1px solid var(--line);
        border-radius:16px; overflow:hidden;
        transition:transform .18s ease, box-shadow .18s ease;
      }
      .card:hover{transform:translateY(-2px); box-shadow: 0 10px 24px rgba(0,0,0,.35)}
      .cover{
        width:100%;
        aspect-ratio: 16 / 9;
        object-fit: cover;           /* visual crop so any image “works” */
        display:block;
        background:#0d0a14 url("/img/blog/_fallback.jpg") center/cover no-repeat;
      }
      .body{padding:14px}
      .ttl{font-weight:700;font-size:18px;margin:0 0 6px}
      .meta{font-size:12px;color:var(--muted);margin:0 0 8px}
      .excerpt{font-size:14px;color:#e8e3ff}
      footer{max-width:1100px;margin:28px auto 48px;padding:0 20px;color:var(--muted);text-align:center;border-top:1px dashed var(--line);padding-top:18px}
    </style>
  </head>
  <body>
    <header>
      <a class="brand" href="/">
        <img src="/CapyGoldIcon.png" alt="Gold capybara icon" />
        <span>ParkerPixie</span>
      </a>
      <nav>
        <a href="/about/">About</a>
        <a href="/contact/">Contact</a>
      </nav>
    </header>

    <main>
      <h1># Blog</h1>
      <p class="sub">Cozy crafts, capybara lore, gaming, life & sparkle ✨</p>

      <section class="grid">
        {posts.map(p => (
          <a class="card" href={`/blog/${p.slug}/`}>
            <img class="cover" src={p.cover ?? "/img/blog/_fallback.jpg"} alt={p.coverAlt ?? "Blog post cover"} loading="lazy" />
            <div class="body">
              <h2 class="ttl">{p.title}</h2>
              <p class="meta">{prettyDate(p.date)}</p>
              <p class="excerpt">{p.excerpt}</p>
            </div>
          </a>
        ))}
      </section>
    </main>

    <footer>© ParkerPixie · Made with ✨ glitter ✨, sass, and love from Madison, WI</footer>
  </body>
</html>
